import{_ as s,c as a,a8 as e,o as t}from"./chunks/framework.CnRC9NRC.js";const E=JSON.parse('{"title":"MAVLink XML 文件框架/格式","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/xml_schema.md","filePath":"zh/guide/xml_schema.md"}'),n={name:"zh/guide/xml_schema.md"};function l(h,i,p,k,d,o){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="mavlink-xml-文件框架-格式" tabindex="-1">MAVLink XML 文件框架/格式 <a class="header-anchor" href="#mavlink-xml-文件框架-格式" aria-label="Permalink to &quot;MAVLink XML 文件框架/格式&quot;">​</a></h1><p>The format and structure of dialect files is formally defined in the XML Schema document: <a href="https://github.com/ArduPilot/pymavlink/blob/master/generator/mavschema.xsd" target="_blank" rel="noreferrer">mavschema.xsd</a>.</p><p>虽然这是规范引用, 但通过示例更容易理解 XML 文件 (如以下各节所示)。</p><h2 id="文件结构" tabindex="-1">文件结构 <a class="header-anchor" href="#文件结构" aria-label="Permalink to &quot;文件结构&quot;">​</a></h2><p>MaVLink XML 文件的大致结构如下。</p><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>If you&#39;re creating a custom dialect file your file structure should be similar to the one below (but may omit any/all sections).</p></div><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mavlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;common.xml&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;other_dialect.xml&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- NOTE: If the included file already contains a version tag, remove the version tag here, else uncomment to enable. --&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!-- &lt;version&gt;6&lt;/version&gt; --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dialect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;8&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dialect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">enums</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        &lt;!-- Enums are defined here (optional) --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">enums</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">messages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        &lt;!-- Messages are defined here (optional) --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">messages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mavlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>下面列出了主要标签 (所有标记都是可选的):</p><ul><li><p><code>include</code>: This tag is used to specify any other XML files included in your dialect.</p><ul><li>Typically dialect files will include <em>common.xml</em> as shown above.</li><li>可以使用单独的标记包含多个文件。</li><li>包含文件的路径可以相对于您的语支文件。 包含文件的路径可以相对于您的语支文件。 但是请注意, 项目测试仅涵盖语支位于同一文件夹中的情况。</li><li>Nested <code>include</code> of files is not supported (only files specified in the top level <code>include</code> are imported).</li><li>构建时，在生成器工具链中合并/追加发送所有文件中的枚举，并报告重复的枚举条目和消息。</li></ul></li><li><p><code>version</code>: The minor version number for the release, as included in the [HEARTBEAT](../messages/common.md#HEARTBEAT message) <code>mavlink_version</code> field.</p><ul><li>For dialects that <code>include</code> <strong>common.xml</strong> the tag should be removed so that the <code>version</code> from <strong>common.xml</strong> is used (<code>version</code> from top level file will be used if specified).</li><li>对于私有语支, 您可以使用任何您喜欢的版本。</li></ul></li><li><p><code>dialect</code>: This number is unique for your dialect. You should use: TBD </p></li><li><p><a href="#enum">enums</a>: Dialect-specific enums can be defined in this block (if none are defined in the file, the block is optional/can be removed).</p></li><li><p><a href="#messages">messages</a>: Dialect-specific messages can be defined in this block (if none are defined in the file, the block is optional/can be removed).</p></li></ul><h2 id="enum" tabindex="-1">Enum Definition (enums) <a class="header-anchor" href="#enum" aria-label="Permalink to &quot;Enum Definition (enums) {#enum}&quot;">​</a></h2><p>枚举用于定义可用作消息中的选项的命名值, 例如定义错误、状态或模式。 There is also a special enum <code>MAV_CMD</code> that is used to define MAVLink commands.</p><p>Enums are defined within the <code>&lt;enums&gt; ... &lt;/enums&gt;</code> blocks (as discussed in the previous section) using <code>&lt;enum&gt; ... &lt;/enum&gt;</code> tags. Enum <em>values</em> are defined within the enum using <code>&lt;entry&gt; ... &lt;/entry&gt;</code> tags.</p><p>For example, the definition of the <a href="./../messages/common.html#LANDING_TARGET_TYPE">LANDING_TARGET_TYPE</a> message is given below:</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LANDING_TARGET_TYPE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Type of landing target&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LANDING_TARGET_TYPE_LIGHT_BEACON&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Landing target signaled by light beacon (ex: IR-LOCK)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LANDING_TARGET_TYPE_RADIO_BEACON&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Landing target signaled by radio beacon (ex: ILS, NDB)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LANDING_TARGET_TYPE_VISION_FIDUCIAL&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Landing target represented by a fiducial marker (ex: ARTag)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LANDING_TARGET_TYPE_VISION_OTHER&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Landing target represented by a pre-defined visual shape/feature (ex: X-marker, H-marker, square)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>The main <code>enum</code> tags/fields are:</p><ul><li><code>name</code>: The name of the enum (mandatory). 这是一系列大写的、以下划线分隔的词。</li><li><code>description</code> (optional): A string describing the purpose of the enum</li><li><code>entry</code> (optional): An entry (zero or more entries can be specified for each enum)</li><li><a href="#deprecated">deprecated</a> (optional): A tag indicating that the enum is deprecated.</li></ul><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p><a href="#mav_cmd">MAVLink Commands</a> are defined in the <a href="./../messages/common.html#mav_commands">MAV_CMD</a> enum.</p></div><h3 id="entry" tabindex="-1">entry <a class="header-anchor" href="#entry" aria-label="Permalink to &quot;entry {#entry}&quot;">​</a></h3><p>The &quot;normal&quot; enum <code>entry</code> tags/fields are:</p><ul><li><code>name</code>: The name of the enum value (mandatory). 这是一系列大写的、以下划线分隔的词。</li><li><code>value</code> (optional): The <em>value</em> for the entry (a number).</li><li><code>description</code> (optional): A description of the entry.</li><li><a href="#deprecated">deprecated</a> / <a href="#wip">wip</a> (optional): A tag indicating that the enum is deprecated or &quot;work in progress&quot;.</li></ul><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>An <code>entry</code> may also define the optional elements: <code>param</code>, <code>hasLocation</code>, <code>isDestination</code>, <code>missionOnly</code>. In practice these should only be used in the <code>enum</code> named <a href="#MAV_CMD">MAV_CMD</a> (described below).</p></div><h2 id="MAV_CMD" tabindex="-1">MAVLink Commands (enum MAV_CMD) <a class="header-anchor" href="#MAV_CMD" aria-label="Permalink to &quot;MAVLink Commands (enum MAV_CMD) {#MAV_CMD}&quot;">​</a></h2><p>Individual <code>entry</code> values in the <code>enum</code> named <a href="#MAV_CMD">MAV_CMD</a> are use to define <em>MAVLink Commands</em>. Each command has a <code>value</code> (its &quot;command number&quot;) and specifies up to 7 parameters.</p><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>These parameters are encoded in <a href="./../messages/common.html#MISSION_ITEM">MISSION_ITEM</a> or <a href="./../messages/common.html#MISSION_ITEM_INT">MISSION_ITEM_INT</a> messages (<a href="./../services/mission.html">Mission Protocol</a>), or <a href="./../messages/common.html#COMMAND_INT">COMMAND_INT</a> or <a href="./../messages/common.html#COMMAND_LONG">COMMAND_LONG</a> messages (<a href="./../services/command.html">Command Protocol</a>).</p></div><p>For example, see <a href="./../messages/common.html#MAV_CMD_NAV_PAYLOAD_PLACE">MAV_CMD_NAV_PAYLOAD_PLACE</a>:</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_CMD&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">....</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;94&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_CMD_NAV_PAYLOAD_PLACE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Descend and place payload. Vehicle descends until it detects a hanging payload has reached the ground, the gripper is opened to release the payload&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Maximum distance to descend (meters)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Empty&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Empty&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Empty&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Latitude (deg * 1E7)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Longitude (deg * 1E7)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;7&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Altitude (meters)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">entry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>MAV_CMD entry <code>value</code> elements may additionally define these tags/fields:</p><ul><li><a href="#param">param</a> (optional): Up to 7 param tags, numbered using an <code>index</code> attribute.</li><li>其一（但并非两者）： <ul><li><code>hasLocation</code> (optional): A boolean (default true) that provides a hint to a GCS that the entry should be displayed as a &quot;standalone&quot; location - rather than as a destination on the flight path. Apply for MAV_CMDs that contain lat/lon/alt location information in param 5, 6, and 7 values but which are not on the vehicle path (e.g.: <a href="./../messages/common.html#MAV_CMD_DO_SET_ROI_LOCATION">MAV_CMD_DO_SET_ROI_LOCATION</a>).</li><li><code>isDestination</code> (optional): A boolean (default true) that provides a hint to a GCS that the entry is a location that should be displayed as a point on the flight path. Apply for MAV_CMD that contain lat/lon/alt location information in their param 5, 6, and 7 values, and that set a path/destination (e.g.: <a href="./../messages/common.html#MAV_CMD_NAV_WAYPOINT">MAV_CMD_NAV_WAYPOINT</a> and <a href="./../messages/common.html#MAV_CMD_NAV_LAND">MAV_CMD_NAV_LAND</a>).</li><li><code>missionOnly</code> (optional): Apply with value <code>true</code> if the MAV_COMMAND only &quot;makes sense&quot; in a mission. For example, the fence mission commands could not possibly be useful in a command.</li></ul></li></ul><h3 id="param" tabindex="-1">param <a class="header-anchor" href="#param" aria-label="Permalink to &quot;param {#param}&quot;">​</a></h3><p>The <code>&lt;param&gt;</code> tag is used in the <a href="./../messages/common.html#mav_commands">MAV_CMD</a> enum as part of defining mission commands. Each entry value may have up to 7 params declared, with <code>index</code> values from 1-7.</p><p>A <code>param</code> <strong>must</strong> include the following attribute:</p><ul><li><code>index</code> - The parameter number (1 - 7).</li></ul><p>A <code>param</code> <strong>should</strong> have:</p><ul><li><code>description</code>: Parameter description string (tag body)</li></ul><p>A <code>param</code> <strong>should</strong> also include the following optional attributes where appropriate (which may be used by a GUI for parameter display and editing):</p><ul><li><p><code>label</code> - Display name to represent the parameter in a GCS or other UI. All words in label should be capitalised.</p></li><li><p><code>units</code> - SI units for the value.</p></li><li><p><code>enum</code> - Enum containing possible values for the parameter (if applicable).</p></li><li><p><code>decimalPlaces</code> - Hint to a UI about how many decimal places to use if the parameter value is displayed.</p></li><li><p><code>increment</code> - Allowed increments for the parameter value.</p></li><li><p><code>minValue</code> - Minimum value for param.</p></li><li><p><code>maxValue</code> - Maximum value for the param.</p></li><li><p><code>multiplier</code> - Multiply by this value to get the unscaled original value. This is primarily intended for specifying any scaling applied to unitless values, where scaling is not encoded in the <code>units</code>.</p></li><li><p><code>reserved</code> - Boolean indicating whether param is reserved for future use. If the attributes is not declared, then implicitly <code>reserved=&quot;False&quot;</code>.</p><div class="tip custom-block github-alert"><p class="custom-block-title">&gt; See [Defining XML Enums/Messages &gt; Reserved/Undefined Parameters](../guide/define_xml_element.md#reserved) for more information.</p><p></p></div></li><li><p><code>default</code> - Default value for the <code>param</code> (primarily used for <code>reserved</code> params, where the value is <code>0</code> or <code>NaN</code>).</p></li></ul><h2 id="messages" tabindex="-1">Message Definition (messages) <a class="header-anchor" href="#messages" aria-label="Permalink to &quot;Message Definition (messages) {#messages}&quot;">​</a></h2><p>Messages are defined within the <code>&lt;messages&gt; ... &lt;/messages&gt;</code> block using <code>&lt;message&gt;...&lt;/message&gt;</code> tags. Individual fields to be encoded in the message payload are defined using <code>&lt;field&gt; ... &lt;/field&gt;</code> tags. Every message must have at least one field.</p><p>For example,the definition of the <a href="./../messages/common.html#BATTERY_STATUS">BATTERY_STATUS</a> message is given below (this message was chosen because it contains many of the main fields and attributes.</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">message</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;147&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BATTERY_STATUS&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Battery information. Updates GCS with flight controller battery status. Smart batteries also use this message, but may additionally send SMART_BATTERY_INFO.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint8_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> instance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Battery ID&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint8_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;battery_function&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_BATTERY_FUNCTION&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Function of the battery&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint8_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;type&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_BATTERY_TYPE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Type (chemistry) of the battery&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int16_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;temperature&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cdegC&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;INT16_MAX&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Temperature of the battery. INT16_MAX for unknown temperature.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint16_t[10]&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;voltages&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mV&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[UINT16_MAX]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Battery voltage of cells 1 to 10 (see voltages_ext for cells 11-14). Cells in this field above the valid cell count for this battery should have the UINT16_MAX value. If individual cell voltages are unknown or not measured for this battery, then the overall battery voltage should be filled in cell 0, with all others set to UINT16_MAX. If the voltage of the battery is greater than (UINT16_MAX - 1), then cell 0 should be set to (UINT16_MAX - 1), and cell 1 to the remaining voltage. This can be extended to multiple cells if the total voltage is greater than 2 * (UINT16_MAX - 1).&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int16_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;current_battery&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cA&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Battery current, -1: autopilot does not measure the current&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int32_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;current_consumed&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mAh&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Consumed charge, -1: autopilot does not provide consumption estimate&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int32_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;energy_consumed&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hJ&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Consumed energy, -1: autopilot does not provide energy consumption estimate&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int8_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;battery_remaining&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Remaining battery energy. Values: [0-100], -1: autopilot does not estimate the remaining battery.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">extensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int32_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time_remaining&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Remaining battery time, 0: autopilot does not provide remaining battery time estimate&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint8_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;charge_state&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_BATTERY_CHARGE_STATE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;State for extent of discharge, provided by autopilot for warning or external reactions&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint16_t[4]&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;voltages_ext&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> units</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mV&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invalid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[0]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Battery voltages for cells 11 to 14. Cells above the valid cell count for this battery should have a value of 0, where zero indicates not supported (note, this is different than for the voltages field and allows empty byte truncation). If the measured value is 0 then 1 should be sent instead.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint8_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mode&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_BATTERY_MODE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Battery mode. Default (0) is that battery mode reporting is not supported or battery is in normal-use mode.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uint32_t&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fault_bitmask&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> display</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bitmask&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> enum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_BATTERY_FAULT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Fault/health indications. These should be set when charge_state is MAV_BATTERY_CHARGE_STATE_FAILED or MAV_BATTERY_CHARGE_STATE_UNHEALTHY (if not, fault reporting is not supported).&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">field</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>主要消息标签/字段是：</p><ul><li><p><code>message</code>: Each message is encapsulated by <code>message</code> tags, with the following attributes</p><ul><li><p><code>id</code>: The id attribute is the unique index number of this message (in the example above: 147).</p><ul><li>对于 MAVLink 1: <ul><li>有效数字介于 0 到 255。</li><li>The ids 0-149 and 230-255 are reserved for <em>common.xml</em>. Dialects can use 180-229 for custom messages (provided these are not used by other included dialects).</li></ul></li><li>For <a href="./../guide/mavlink_2.html">MAVLink 2</a>: <ul><li><p>有效数字介于0-1677215。</p></li><li><p>All numbers below 255 should be considered reserved unless messages are also intended for MAVLink 1.</p><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>&gt; IDs are precious in MAVLink 1!</p></div></li></ul></li></ul></li><li><p><code>name</code>: The name attribute provides a human readable form for the message (ie &quot;BATTERY_STATUS&quot;). 它用于在生成的库命名辅助功能，但并没有通过总线发送。</p></li></ul></li><li><p><code>description</code>: Human readable description of message, shown in user interfaces and in code comments. 这应当包含所有信息（以及超链接），以便充分了解信息。</p></li><li><p><code>field</code>: Encodes one field of the message. The field value is its name/text string used in GUI documentation (but not sent over the wire). Every message must have at least one field.</p><ul><li><p><code>type</code>: Similar to a field in a C <code>struct</code> - the size of the data required to store/represent the data type.</p><ul><li>Fields can be signed/unsigned integers of size 8, 16, 23, 64 bits (<code>{u)int8_t</code>, <code>(u)int16_t</code>, <code>(u)int32_t</code>, <code>(u)int64_t</code>), single/double precision IEEE754 floating point numbers. They can also be arrays of the other types - e.g. <code>uint16_t[10]</code>.</li></ul></li><li><p><code>name</code>: Name of the field (used in code).</p></li><li><p><a href="#enum">enum</a> (optional): Name of an <code>enum</code> defining possible values of the field (e.g. <code>MAV_BATTERY_CHARGE_STATE</code>).</p></li><li><p><code>units</code> (optional): The units for message <code>field</code>s that take numeric values (not enums). These are defined in the <a href="https://github.com/ArduPilot/pymavlink/blob/master/generator/mavschema.xsd" target="_blank" rel="noreferrer">schema</a> (search on <em>name=&quot;SI_Unit&quot;</em>)</p></li><li><p><code>multiplier</code> (optional) - Multiply by this value to get the unscaled original value. Allowed values are defined in the <a href="https://github.com/ArduPilot/pymavlink/blob/master/generator/mavschema.xsd" target="_blank" rel="noreferrer">schema</a> (search on <code>name=&quot;factor&quot;</code>). For example, <a href="./../messages/common.html#GPS_STATUS">GPS_STATUS</a> is a value in degrees (0-360) sent in a byte field (0-255). To get the original value, scale by multiplying the value with the multiplier (<code>360/256</code>). This is currently only used for values where scaling is not encoded in the <code>units</code>.</p></li><li><p><code>display</code> (optional): This should be set as <code>display=&quot;bitmask&quot;</code> for bitmask fields (hint to ground station that enum values must be displayed as checkboxes).</p></li><li><p><code>print_format</code> (optional): TBD.</p></li><li><p><code>default</code> (optional): TBD.</p></li><li><p><code>increment</code> - Allowed increments for the increment value.</p></li><li><p><code>minValue</code> - Minimum value for field.</p></li><li><p><code>maxValue</code> - Maximum value for the field.</p></li><li><p><code>instance</code>: If <code>true</code>, this indicates that the message contains the information for a particular sensor or battery (e.g. Battery 1, Battery 2, etc.) and that this field indicates which sensor. Default is <code>false</code>.</p><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>&gt; This field allows a recipient automatically associate messages for a particular sensor and plot them in the same series.</p></div></li><li><p><code>invalid</code>: Specifies a value that can be set on a field to indicate that the data is <em>invalid</em>: the recipient should ignore the field if it has this value. For example, <code>BATTERY_STATUS.current_battery</code> specifies <code>invalid=&quot;-1&quot;</code>, so a battery that does not measure supplied <em>current</em> should set <code>BATTERY_STATUS.current_battery</code> to <code>-1</code>.</p><p>Where possible the value that indicates the field is invalid should be selected to outside the expected/valid range of the field (<code>0</code> is preferred if it is not an acceptable value for the field). For integers we usually select the largest possible value (i.e. <code>UINT16_MAX</code>, <code>INT16_MAX</code>, <code>UINT8_MAX</code>, <code>UINT8_MAX</code>). For floats we usually select <code>invalid=&quot;NaN&quot;</code>.</p><p>Arrays represent multiple elements, some (or all) of which may need to be marked as <code>invalid</code>. The following notation is used to specify the values that indicate elements of the array are invalid:</p><ul><li><code>invalid=&quot;[value]&quot;</code>: Array elements that contain <code>value</code> are invalid.</li><li><code>invalid=&quot;[value:]&quot;</code>: All array elements are invalid if the <em>first</em> array element is set to <code>value</code>.</li><li><code>invalid=&quot;[value1,,value3,]&quot;</code>: Array elements are invalid if they contain the value specified in the corresponding position of the comma separated list. If the a position in the list is empty, there is no way to indicate the corresponding array element is invalid. The example above indicates that elements 1 and 3 are invalid if they contain <code>value1</code> and <code>value3</code>, respectively. For element 2 and any elements &gt;4 the invalid property of the field cannot be set.</li><li><code>invalid=&quot;[value1,]&quot;</code>: The first array element is invalid if it contains <code>value1</code>: the invalid property cannot be set for all other elements.</li></ul></li></ul></li><li><p><a href="#deprecated">deprecated</a> / <a href="#wip">wip</a> (optional): A tag indicating that the message is deprecated or &quot;work in progress&quot;.</p></li><li><p><code>extensions</code> (optional): This self-closing tag is used to indicate that subsequent fields apply to MAVLink 2 only.</p><ul><li>标记应该用于MAVLink 1 信息 (id &lt; 256) 已扩展到MAVLink2。</li></ul></li></ul><h2 id="常用标签" tabindex="-1">常用标签 <a class="header-anchor" href="#常用标签" aria-label="Permalink to &quot;常用标签&quot;">​</a></h2><p>本节列出一些标签可用于若干其他类型，例如消息和数字。</p><h3 id="deprecated" tabindex="-1">deprecated <a class="header-anchor" href="#deprecated" aria-label="Permalink to &quot;deprecated {#deprecated}&quot;">​</a></h3><p>The <code>&lt;deprecated&gt;</code> tag can be used in an <a href="#enum">enum</a>, enum <a href="#entry">entry</a> (value) or <a href="#message">message</a> to indicate that the item has been superseded. 标签属性显示废弃时间和替代项目，而元素(可选) 可以包含一个字符串，其中载有关于废弃物的补充信息。</p><p>The generator toolchain can be configured to conditionally build messages omitting the <code>deprecated</code> entries.</p><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>An entity should be marked as deprecated only when the main users have had an opportunity to update to the new method.</p></div><p>As a concrete example, below we see that <a href="./../messages/common.html#SET_MODE">SET_MODE</a> is deprecated and replaced by <a href="./../messages/common.html#MAV_CMD_DO_SET_MODE">MAV_CMD_DO_SET_MODE</a> on <code>2015-12</code>.</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">message</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;11&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SET_MODE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">deprecated</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> since</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2015-12&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> replaced_by</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAV_CMD_DO_SET_MODE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Use COMMAND_LONG with MAV_CMD_DO_SET_MODE instead&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">deprecated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>The <code>deprecated</code> attributes are:</p><ul><li><code>since</code>: Year/month when deprecation started. Format: <code>YYYY-MM</code>.</li><li><code>replaced by</code>: String of entity that supersedes this item.</li></ul><h3 id="wip" tabindex="-1">wip <a class="header-anchor" href="#wip" aria-label="Permalink to &quot;wip {#wip}&quot;">​</a></h3><p>The <code>&lt;wip&gt;</code> tag can be used in an enum <a href="#entry">entry</a> (value) or <a href="#message">message</a> to indicate that the item is a &quot;work in progress&quot;. 元素可以(可选) 包含一个字符串，其中载有关于新项目的补充信息。</p><p>The generator toolchain can be configured to conditionally build messages omitting the <code>wip</code> entries.</p><p>最常见的是，标签被显示：</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">wip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span></code></pre></div>`,57)]))}const g=s(n,[["render",l]]);export{E as __pageData,g as default};
