import{_ as i,c as a,a8 as e,o as t}from"./chunks/framework.sDsl5pD6.js";const F=JSON.parse('{"title":"MAVLink C UDP 示例","description":"","frontmatter":{},"headers":[],"relativePath":"zh/mavgen_c/example_c_udp.md","filePath":"zh/mavgen_c/example_c_udp.md"}'),l={name:"zh/mavgen_c/example_c_udp.md"};function n(p,s,h,k,r,d){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="mavlink-c-udp-示例" tabindex="-1">MAVLink C UDP 示例 <a class="header-anchor" href="#mavlink-c-udp-示例" aria-label="Permalink to &quot;MAVLink C UDP 示例&quot;">​</a></h1><p>The <a href="https://github.com/mavlink/mavlink/tree/master/examples/c" target="_blank" rel="noreferrer">MAVLink UDP Example</a> is a simple C example that sends and receives MAVLink HEARTBEATS over UDP.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The example should work on any Unix-like system (Linux, MacOS, BSD, etc.). These instructions were tested on a <em>Ubuntu LTS 22.04</em> installation with either PX4 or ArduPilot dependencies installed (such as cmake).</p></div><h2 id="构建-运行示例" tabindex="-1">构建/运行示例 <a class="header-anchor" href="#构建-运行示例" aria-label="Permalink to &quot;构建/运行示例&quot;">​</a></h2><p>下面的说明演示如何生成和运行该示例。</p><ol><li><p>Clone the <a href="https://github.com/mavlink/mavlink/" target="_blank" rel="noreferrer">mavlink/mavlink</a> repository</p></li><li><p>Open a terminal in the repository root.</p></li><li><p>Use <code>cmake</code> to install MAVLink locally:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Bbuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -DCMAKE_INSTALL_PREFIX=install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --target</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div></li><li><p>Navigate to <a href="https://github.com/mavlink/mavlink/tree/master/examples/c" target="_blank" rel="noreferrer">examples/c</a></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> examples/c</span></span></code></pre></div></li><li><p>Use <code>cmake</code> to compile and build the example:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Bbuild</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -DCMAKE_PREFIX_PATH=$(pwd)/../../install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cmake</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div></li><li><p>从终端运行可执行文件：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./build/udp_example</span></span></code></pre></div><p>By default, the example will listen for data on the localhost IP address, port 14550.</p></li><li><p>Open another terminal on the same machine and start either PX4 or ArduPilot. These publish to port 14550 on localhost by default.</p></li><li><p>The example should start displaying messages about sent and received HEARTBEAT messages in the terminal. The following output is displayed if you connect to PX4:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/github/mavlink/mavlink/examples/c$  ./build/udp_example</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Got</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autopilot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Got</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autopilot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Got</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autopilot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Got</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autopilot</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Got</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> heartbeat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PX4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> autopilot</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span></code></pre></div></li></ol><p>Note that the build and installation instructions are from <a href="https://github.com/mavlink/mavlink/blob/master/examples/c/README.md" target="_blank" rel="noreferrer">examples/c/README.md</a>.</p>`,7)]))}const c=i(l,[["render",n]]);export{F as __pageData,c as default};
