import{_ as s,c as a,a8 as e,o as t}from"./chunks/framework.sDsl5pD6.js";const d=JSON.parse('{"title":"Component Definition File","description":"","frontmatter":{},"headers":[],"relativePath":"zh/services/component_def.md","filePath":"zh/services/component_def.md"}'),n={name:"zh/services/component_def.md"};function h(l,i,p,k,r,o){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="component-definition-file" tabindex="-1">Component Definition File <a class="header-anchor" href="#component-definition-file" aria-label="Permalink to &quot;Component Definition File&quot;">​</a></h1><p>A component information file is an XML file that describes the custom settings of a MAVLink component (like a gimbal or companion computer).</p><p>The location of the file can be requested from a component. Usually the component hosts the file and distributes it using <a href="./../services/ftp.html">MAVLink FTP</a>.</p><p>The settings themselves can be queried and set using <a href="./../services/parameter.html">MAVLink Parameters</a> (a GCS client may use the file to generate a settings UI).</p><blockquote><p><strong>Note</strong> The component definition file mechanism is based on the <a href="./../services/camera_def.html">camera definition file</a>, and therefore very similar.</p></blockquote><h2 id="discovery-mechanism" tabindex="-1">Discovery Mechanism <a class="header-anchor" href="#discovery-mechanism" aria-label="Permalink to &quot;Discovery Mechanism&quot;">​</a></h2><p>The ground station must first discover all components on the network by broadcasting the command <a href="./../messages/common.html#MAV_CMD_REQUEST_MESSAGE">MAV_CMD_REQUEST_MESSAGE</a> (specifying the <a href="./../messages/common.html#COMPONENT_INFORMATION">COMPONENT_INFORMATION</a> message). All components should respond with <code>COMPONENT_INFORMATION</code>.</p><p>The <code>COMPONENT_INFORMATION.component_definition_uri</code> field contains the definition file URL. Typically this is a <a href="./../services/ftp.html">MAVLink FTP URL</a> address (i.e. the component itself), but it might also be an address on the Internet.</p><h2 id="example-definition-file" tabindex="-1">Example Definition File <a class="header-anchor" href="#example-definition-file" aria-label="Permalink to &quot;Example Definition File&quot;">​</a></h2><p>This is an example of a gimbal component definition file that defines a single custom parameter:</p><div class="language-XML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">XML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;?</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">xml</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.0&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> encoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ?&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mavlinkcomponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">definition</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;7&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Supergimbal 1000&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">vendor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Gimbal king&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">vendor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">definition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">parameters</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">parameter</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MAX_PAN_RATE&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;int32&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;60&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;360&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> step</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Max pan angular rate in degrees per second&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">description</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">parameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">localization</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">locale</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;de_DE&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">strings</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> original</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Max pan angular rate in degrees per second&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> translated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Maximale Schwenkgeschwindigkeit in Grad pro Sekunde&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">locale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">localization</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;mavlinkcomponent&gt;</span></span></code></pre></div><h2 id="parameter" tabindex="-1">Parameter <a class="header-anchor" href="#parameter" aria-label="Permalink to &quot;Parameter&quot;">​</a></h2><p>For the example above, the parameter <code>MAX_PAN_RATE</code> can be set using the <code>PARAM_EXT</code> parameter protocol (for more information, check the <a href="./../services/camera_def.html">camera definition</a>).</p><h2 id="file-compression" tabindex="-1">File Compression <a class="header-anchor" href="#file-compression" aria-label="Permalink to &quot;File Compression&quot;">​</a></h2><p>In order to save flash space on the component and during transfer, the file can be compressed using <em>gzip</em>. If the URL of the definition file ends with <code>.xml.gz</code> it is the gzip compressed stream of the text file.</p><blockquote><p><strong>Note</strong> The file stream is compressed but it is not an archive like <code>.zip</code> or <code>.tar.gz</code> (so there is no folder structure).</p></blockquote>`,16)]))}const g=s(n,[["render",h]]);export{d as __pageData,g as default};
