import{_ as t,c as o,a8 as n,o as a}from"./chunks/framework.CnRC9NRC.js";const p=JSON.parse('{"title":"Heartbeat/Connection Protocol","description":"","frontmatter":{},"headers":[],"relativePath":"zh/protocol/heartbeat.md","filePath":"zh/protocol/heartbeat.md"}'),r={name:"zh/protocol/heartbeat.md"};function s(i,e,c,h,d,l){return a(),o("div",null,e[0]||(e[0]=[n('<h1 id="heartbeat-connection-protocol" tabindex="-1">Heartbeat/Connection Protocol <a class="header-anchor" href="#heartbeat-connection-protocol" aria-label="Permalink to &quot;Heartbeat/Connection Protocol&quot;">​</a></h1><p>The heartbeat protocol is used to determine whether a system is connected, and to detect when it has disconnected.</p><h2 id="connection-disconnection" tabindex="-1">Connection/Disconnection <a class="header-anchor" href="#connection-disconnection" aria-label="Permalink to &quot;Connection/Disconnection&quot;">​</a></h2><p>A MAVLink component considers itself <em>connected</em> to another system/component if it regularly receives their <a href="./../messages/common.html#HEARTBEAT">HEARTBEAT</a> message (and disconnected if expected messages are not received). Therefore, to set up a &quot;connection&quot; every component must regularly broadcast its <code>HEARTBEAT</code> and monitor for heartbeats from other components/systems.</p><p>The rate at which the <code>HEARTBEAT</code> message must be broadcast, and how many messages may be &quot;missed&quot; before the connection is considered to be broken depends on the channel (it is not defined by MAVLink). On RF telemetry links, components typically publish their heartbeat at 1 Hz and consider another system to have disconnected if four or five messages are not received.</p><p>A system may choose not to broadcast information if it does not detect another system, and it will continue to send messages to a system while it is receiving heartbeats. Therefore it is important that systems:</p><ul><li>broadcast a heartbeat even when not commanding the remote system.</li><li>do not broadcast a heartbeat when they are in a faulted state (i.e. do not publish a heartbeat from a separate thread that is unaware of the state of the rest of the component).</li></ul><h2 id="gcs" tabindex="-1">Ground Control Station (GCS) Connections <a class="header-anchor" href="#gcs" aria-label="Permalink to &quot;Ground Control Station (GCS) Connections {#gcs}&quot;">​</a></h2><p>In addition using the heartbeat to establish connection/disconnection, a GCS may not report that an autopilot is connected until its <a href="./../protocol/parameter.html">parameters</a> have been downloaded.</p>',9)]))}const b=t(r,[["render",s]]);export{p as __pageData,b as default};
